@startuml
start

:Пользователь авторизован?;
if (Нет) then (нет)
  :Показать форму входа;
  stop
else (да)
  :Открыть интерфейс загрузки файла;
  :Выбрать файл для загрузки;
  :Выбрать папку назначения;

  :Проверить имя файла на уникальность в папке;
  if (Имя файла занято?) then (да)
    :Добавить суффикс (n) к имени файла;
  else (нет)
    :Использовать исходное имя файла;
  endif

  :Сохранить файл в хранилище (S3/локально);
  :Записать метаданные файла в базу данных;
  :Обновить интерфейс пользователя;
  :Отправить уведомление через WebSocket о новом файле;

  :Загрузка завершена успешно;
  stop
endif
@enduml
